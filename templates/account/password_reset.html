{% extends "base.html" %}
{% load static %}

{% block title %}Reset Password - Cons-App{% endblock %}

{% block content %}
<div class="container" style="max-width: 400px; margin: 2rem auto;">
    <div class="text-center mb-8">
        <h1 style="font-size: 1.875rem; font-weight: 700; margin-bottom: 0.5rem;">Reset Password</h1>
        <p style="color: #94a3b8; margin-top: 0.5rem; font-size: 1.125rem;">Enter your email to reset your password</p>
    </div>

    {% if user.is_authenticated %}
    <div style="padding: 0.75rem; border-radius: 0.5rem; background: rgba(59, 130, 246, 0.1); border: 1px solid rgba(59, 130, 246, 0.3); color: #93c5fd; margin-bottom: 1rem;">
        You are already logged in as {{ user.email }}.
    </div>
    {% endif %}

    <form method="post" action="{% url 'account_reset_password' %}" style="display: flex; flex-direction: column; gap: 1rem;">
        {% csrf_token %}
        
        {% if form.errors %}
        <div style="padding: 0.75rem; border-radius: 0.5rem; background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.5); color: #fca5a5;">
            {% for field, errors in form.errors.items %}
                {% for error in errors %}
                    {{ error }}<br>
                {% endfor %}
            {% endfor %}
        </div>
        {% endif %}

        <!-- Email Field -->
        <div>
            <label for="id_email" style="display: block; font-size: 0.875rem; font-weight: 500; color: #e2e8f0; margin-bottom: 0.5rem;">
                Email Address
            </label>
            <input type="email" 
                   name="email" 
                   id="id_email" 
                   placeholder="Enter your email address"
                   style="width: 100%; padding: 1rem; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 0.5rem; color: #ffffff; transition: all 0.3s ease;"
                   required
                   autocomplete="email">
            {% if form.email.errors %}
            <div style="color: #f87171; font-size: 0.875rem; margin-top: 0.25rem;">
                {% for error in form.email.errors %}
                    {{ error }}<br>
                {% endfor %}
            </div>
            {% endif %}
        </div>

        <button type="submit" style="padding: 0.75rem 1rem; background: #3b82f6; color: white; border: 2px solid #3b82f6; border-radius: 0.5rem; font-weight: 500; transition: all 0.3s ease; cursor: pointer; width: 100%;">
            Reset My Password
        </button>
    </form>

    <div style="margin-top: 1.5rem; text-align: center;">
        <p style="color: #94a3b8; font-size: 0.875rem;">
            Please contact us if you have any trouble resetting your password.
        </p>
    </div>

    <div style="margin-top: 1rem; text-align: center;">
        <p style="color: #94a3b8;">
            Remember your password? 
            <a href="{% url 'account_login' %}" style="color: #3b82f6; text-decoration: none; font-weight: 500; transition: color 0.3s ease;">
                Sign in here
            </a>
        </p>
    </div>
</div>

<style>
/* Additional styles for form elements */
input:focus {
    outline: none;
    border-color: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

button:hover {
    background: transparent;
    color: #3b82f6;
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(59, 130, 246, 0.15);
}

a:hover {
    color: rgba(59, 130, 246, 0.8);
}
</style>
{% endblock %}